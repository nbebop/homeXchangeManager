<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home Exchange - User Account</title>
    <link href="css/account.css" rel="stylesheet" type="text/css">
    <link href="css/navbar.css" rel="stylesheet">
    <script src="js/script.js"></script>
</head>
<body>
<section class="navbar">
    <header>
        <!-- Logo -->
        <a href="/" th:href="@{/success}"><img class="logo" src="img/compass_white_name.png" alt="logo"></a>
        <!--Search bar -->
        <div class="search-bar">
            <form action="/" method="GET" class="form">
                <input type="search" placeholder="Search for..." class="search-field">
                <button type="submit" class="search-button"><i class="fa fa-search"></i></button>
            </form>
        </div>
        <!-- Find a house and add a listing navlinks -->
        <div class="nav-links">
            <ul class="nav-links-style">
                <li><a href="/" th:href="@{/listing}">Find a house</a></li>
                <li><a href="/" th:href="@{/new_listing}" >Add a listing</a></li>
            </ul>
        </div>
        <!-- Dropdown menu -->
        <div class="dropdown">
            <button class="dropbtn"><img src="img/menu3.png" alt="My Button Image"></button>
            <div class="dropdown-content">
                <a href="/" th:href="@{/account}">Account</a>
                <a href="/" th:href="@{/message}">Messages</a>
                <a href="/" th:href="@{/favourites}">Favorites</a>
                <a href="/" th:href="@{/help}">Help</a>
                <a href="#" onclick="logout()">Logout</a>
            </div>
        </div>
    </header>
    <form id="logoutForm" action="/logout" method="post" style="display: none;"></form>
</section>
<div class="spacer"></div>
<div class="profile-section">
    <h2>Profile</h2>
    <div class="profile-details" >
        <div class="booking-details" th:each="listings : ${listings}">
<!--         Display user's profile information-->
        <p th:text="'Name: '+ ${user.firstname + ' ' + user.lastname}"></p>
        <p th:text="'Email: ' + ${user.email}"></p>
        <p th:text="'Address: '+ ${user.city}"></p>
        <p th:text="'Rating: '+ ${listings.ownerRating}"></p>
    </div>
</div>

<div class="photos-section" th:each="listingItem : ${listings}">
    <h2>Photos of My Home</h2>
    <img th:src="@{${listingItem.image}}" alt="House Image here">
</div>

<div class="services-section" th:each="listingItem : ${listings}">
    <h2>Services Offered</h2>
    <!-- Display services offered by the user -->
    <p th:text="'Services: ' + ${listingItem.services}"></p>
</div>

<div class="constraints-section" th:each="listingItem : ${listings}">
    <h2>Constraints/Limits</h2>
    <p th:text="'Constraints: ' + ${listingItem.constraints}"></p>
</div>

<div class="bookings-section">
    <h2>Pending Bookings</h2>
    <div class="booking">
            <div class="booking-details" th:each="listingItem : ${listings}">
                <p th:text="'Description: ' + ${listingItem.description}"></p>
                <p th:text="'City: '+ ${listingItem.city}"></p>
                <p th:text="'Code: '+ ${listingItem.postalCode}"></p>
                <p th:text="'Conutry: '+${listingItem.country}"></p>
                <p th:text="'Start: '+${listingItem.availabilityStart}"></p>
                <p th:text="'End: '+${listingItem.availabilityEnd}"></p>
                <!-- Add other listing details as needed -->
            </div>
        </div>
      <!--  <div class="booking-photos">
            <img src="img/paris1.jpg" alt="Booking Photo 1" class="photo">
            <img src="img/paris2.jpg" alt="Booking Photo 2" class="photo">
            <img src="img/paris3.jpg" alt="Booking Photo 3" class="photo">
        </div>-->
    <div class="booking-photos" th:each="listingItem : ${listings}">
        <img th:src="@{${listingItem.image}}" alt="Booking Image here">
    </div>
    </div>
    </div>
    <!-- Add more bookings here -->
</div>

<div class="messaging-section">
    <h2>Communicate Through Messaging</h2>
    <form class="messaging-form">
        <!-- Messaging form for communication -->
        <textarea rows="4" cols="50" placeholder="Type your message here"></textarea>
        <br>
        <button type="submit">Send Message</button>
    </form>
</div>
<!-- Bottom information -->
<section id="info" class="info-section">
    <a href="#" onclick="openPopup('about')">ABOUT</a>
    <a href="#">COOKIE SETTINGS</a>
    <a href="#" onclick="openPopup('privacy')">PRIVACY</a>
</section>

<!-- Popup Windows -->
<div id="popup-about" class="popup">
    <div class="popup-content">
        <span class="close" onclick="closePopup('about')">&times;</span>
        <h2>About</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae volutpat nulla. Sed nec lacus in nisl luctus sagittis. Sed suscipit magna id est ullamcorper, ut vehicula augue mattis. In hac habitasse platea dictumst.</p>
        <!-- Add your project summary text here -->
    </div>
</div>
<div id="popup-privacy" class="popup">
    <div class="popup-content">
        <span class="close" onclick="closePopup('privacy')">&times;</span>
        <h2>Privacy</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae volutpat nulla. Sed nec lacus in nisl luctus sagittis. Sed suscipit magna id est ullamcorper, ut vehicula augue mattis. In hac habitasse platea dictumst.</p>
        <!-- Add your privacy policy text here -->
    </div>
</div>
</body>
</html>
