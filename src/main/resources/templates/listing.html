<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listing Page</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/c4254e24a8.js" crossorigin="anonymous"></script>
    <link href="css/style.css" rel="stylesheet">
    <script src="js/script.js"></script>
</head>
<body>
<nav id="navBar" class="navbar-white">
    <a href="index.html">
        <img src="img/compass_white_name.png" class="logo">
    </a>
    <div class="search-bar-list">
        <form th:action="@{/listings/city/availability}" method="get" class="form">
            <input type="search" placeholder="Search in city " class="search-field">
            <button type="submit" class="search-button"><i class="fa fa-search"></i></button>
        </form>
    </div>

    <div class="container">
        <h1>Find Your Next Stay</h1>
        <div class="search-bar">
            <form>
                <div class="location-input">
                    <label>Location</label>
                    <input type="text" placeholder="Where are you going?">
                </div>
                <div>
                    <label>Check in</label>
                    <input type="text" placeholder="Add Date">
                </div>
                <div>
                    <label>Check out</label>
                    <input type="text" placeholder="Add Date">
                </div>
                <div>
                    <label>Guest</label>
                    <input type="text" placeholder="Add Guest">
                </div>
                <button type="submit"><img src="img/search.png"></button>
            </form>
        </div>
    </div>
    <!-- IF LISTINGS PASSED BY SIMPLE SEARCH WORKS -->
    <div class="left-col" th:if="${listingsSimpleSearch != null}" >
        <!-- Looping through the listings and populating the HTML dynamically -->
        <div th:each="listing : ${listingsSimpleSearch}" class="house" >
            <a th:href="@{'/house/' + ${listing.listingId}}">CLICK HERE FOR MORE INFO</a>
            <!-- <div class="house-img">
                <img th:src="@{${listing.getMainImgPath}}" alt="Listing Image">
            </div> -->
            <div class="house-info">
                <p th:text="${listing.addressLine}"></p>
                <h3 th:text="${listing.description}"></h3>
                <!-- Rating stars -->
                <span th:each="i : ${#numbers.sequence(1, listing.rating)}">
                <i class="fas fa-star"></i>
            </span>
                <span th:each="i : ${#numbers.sequence(1, 5 - listing.rating)}">
                <i class="far fa-star"></i>
            </span>
            </div>
        </div>
    </div>


    <!-- Find a house and add a listing navlinks -->
    <div class="nav-links">
        <ul class="nav-links-style">
            <li><a href="/" th:href="@{/listing}">Find a house</a></li>
            <li><a href="/" th:href="@{/new_listing}">Add a listing</a></li>
        </ul>
    </div>
    <!-- Dropdown menu -->
    <div class="dropdown">
        <button class="dropbtn"><img src="img/menu3.png" alt="My Button Image"></button>
        <div class="dropdown-content">
            <a href="/" th:href="@{/account}">Account</a>
            <a href="/" th:href="@{/message}">Messages</a>
            <a href="/" th:href="@{/favourites}">Favorites</a>
            <a href="/" th:href="@{/help}">Help</a>
            <a href="#" onclick="logout()">Logout</a>
        </div>
    </div>
</nav>
<div class="container">

<!-- PAGINATION BOTTOM - DESIGN -->
    <div class="pagination">
        <a href="#" class="arrow left-arrow"><img src="img/arrow.png"></a>
        <span class="current">1</span>
        <span>2</span>
        <span>3</span>
        <span>4</span>
        <a href="#" class="ellipsis">&middot; &middot; &middot; &middot;</a>
        <span>20</span>
        <a href="#" class="arrow right-arrow"><img src="img/arrow.png"></a>
    </div>

<!-- MEDIA-->
    <div class="footer">
        <a href="https://facebook.com/"><i class="fab fa-facebook-f"></i></a>
        <a href="https://youtube.com/"><i class="fab fa-youtube"></i></a>
        <a href="https://instagram.com/"><i class="fab fa-instagram"></i></a>
        <hr>
        <p></p>
    </div>
</div>

<!-- Bottom information -->
<section id="info" class="info-section">
    <a href="#" onclick="openPopup('about')">ABOUT</a>
    <a href="#">COOKIE SETTINGS</a>
    <a href="#" onclick="openPopup('privacy')">PRIVACY</a>
</section>

<!-- Popup Windows -->
<div id="popup-about" class="popup">
    <div class="popup-content">
        <span class="close" onclick="closePopup('about')">&times;</span>
        <h2>About</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae volutpat nulla. Sed nec lacus in nisl luctus sagittis. Sed suscipit magna id est ullamcorper, ut vehicula augue mattis. In hac habitasse platea dictumst.</p>
        <!-- Add your project summary text here -->
    </div>
</div>
<div id="popup-privacy" class="popup">
    <div class="popup-content">
        <span class="close" onclick="closePopup('privacy')">&times;</span>
        <h2>Privacy</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam vitae volutpat nulla. Sed nec lacus in nisl luctus sagittis. Sed suscipit magna id est ullamcorper, ut vehicula augue mattis. In hac habitasse platea dictumst.</p>
        <!-- Add your privacy policy text here -->
    </div>
</div>
</div>
</body>
</html>